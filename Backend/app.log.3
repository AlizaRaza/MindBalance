2025-04-27 01:35:01,566 - app - INFO - Spotify API configured successfully
2025-04-27 01:37:20,456 - app - INFO - TensorFlow model loaded successfully
2025-04-27 01:37:20,456 - app - INFO - Academic resources loaded successfully
2025-04-27 01:37:20,461 - app - ERROR - Error creating database indexes: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
2025-04-27 01:37:20,461 - app - INFO - Spotify API configured successfully
2025-04-27 01:41:15,082 - app - INFO - TensorFlow model loaded successfully
2025-04-27 01:41:15,082 - app - INFO - Academic resources loaded successfully
2025-04-27 01:41:15,087 - app - ERROR - Error creating database indexes: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
2025-04-27 01:41:15,088 - app - INFO - Spotify API configured successfully
2025-04-27 01:43:24,200 - app - INFO - TensorFlow model loaded successfully
2025-04-27 01:43:24,200 - app - INFO - Academic resources loaded successfully
2025-04-27 01:43:24,205 - app - ERROR - Error creating database indexes: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
2025-04-27 01:43:24,206 - app - INFO - Spotify API configured successfully
2025-04-27 01:44:57,859 - app - INFO - TensorFlow model loaded successfully
2025-04-27 01:44:57,860 - app - INFO - Academic resources loaded successfully
2025-04-27 01:44:57,865 - app - ERROR - Error creating database indexes: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
2025-04-27 01:44:57,865 - app - INFO - Spotify API configured successfully
2025-04-27 01:46:53,801 - app - INFO - TensorFlow model loaded successfully
2025-04-27 01:46:53,801 - app - INFO - Academic resources loaded successfully
2025-04-27 01:46:53,806 - app - ERROR - Error creating database indexes: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
2025-04-27 01:46:53,806 - app - INFO - Spotify API configured successfully
2025-04-27 01:47:31,240 - app - INFO - Session before dashboard: <SecureCookieSession {'_flashes': [('success', '✅ Login successful!')], '_permanent': True, 'user_id': 1}>
2025-04-27 01:48:08,405 - app - INFO - Session before dashboard: <SecureCookieSession {'_permanent': True, 'user_id': 1}>
2025-04-27 01:49:38,809 - app - INFO - Session before dashboard: <SecureCookieSession {'_flashes': [('success', '✅ Login successful!')], '_permanent': True, 'user_id': 2}>
2025-04-27 01:53:14,592 - app - INFO - TensorFlow model loaded successfully
2025-04-27 01:53:14,592 - app - INFO - Academic resources loaded successfully
2025-04-27 01:53:14,597 - app - ERROR - Error creating database indexes: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
2025-04-27 01:53:14,597 - app - INFO - Spotify API configured successfully
2025-04-27 12:13:13,917 - app - INFO - TensorFlow model loaded successfully
2025-04-27 12:13:13,918 - app - INFO - Academic resources loaded successfully
2025-04-27 12:13:13,925 - app - ERROR - Error creating database indexes: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
2025-04-27 12:13:13,925 - app - INFO - Spotify API configured successfully
2025-04-27 12:14:19,803 - app - INFO - TensorFlow model loaded successfully
2025-04-27 12:14:19,803 - app - INFO - Academic resources loaded successfully
2025-04-27 12:14:19,809 - app - ERROR - Error creating database indexes: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
2025-04-27 12:14:19,809 - app - INFO - Spotify API configured successfully
2025-04-27 12:14:28,939 - app - INFO - TensorFlow model loaded successfully
2025-04-27 12:14:28,939 - app - INFO - Academic resources loaded successfully
2025-04-27 12:14:28,945 - app - ERROR - Error creating database indexes: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
2025-04-27 12:14:28,945 - app - INFO - Spotify API configured successfully
2025-04-27 12:15:08,371 - app - INFO - New user registered: Alishba
2025-04-27 12:15:20,950 - app - INFO - Session before dashboard: <SecureCookieSession {'_flashes': [('success', '✅ Login successful!')], '_permanent': True, 'user_id': 3}>
2025-04-27 12:15:47,396 - app - INFO - Session before dashboard: <SecureCookieSession {'_permanent': True, 'user_id': 3}>
2025-04-27 12:16:39,314 - app - INFO - Music API request - Emotion: relaxing, Gender: male, Genre: hiphop
2025-04-27 12:16:39,314 - app - INFO - Spotify API → Emotion: relaxing, Genre: hip-hop, Gender: male, Artists: ['4gzpq5DPGxSnKTe4SA8HAU', '3WGpXCj9YhhfX11TToZcXP', '21E3waRsmPlU7jZsS13rcj']
2025-04-27 12:16:39,504 - app - ERROR - Error in fetch_music(): http status: 404, code: -1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=4gzpq5DPGxSnKTe4SA8HAU%2C3WGpXCj9YhhfX11TToZcXP%2C21E3waRsmPlU7jZsS13rcj&seed_genres=hip-hop:
 None, reason: None
2025-04-27 12:16:39,509 - app - INFO - Music API response - Found 2 tracks, 2 artists
2025-04-27 12:17:18,624 - app - INFO - Music API request - Emotion: sad, Gender: all, Genre: hiphop
2025-04-27 12:17:18,625 - app - INFO - Spotify API → Emotion: sad, Genre: hip-hop, Gender: all, Artists: ['04gDigrS5kc9YWfZHwBETP', '0k17h0D3J5VfsdmQ1iZtE9', '6S2OmqARrzebs0tKUEyXyp']
2025-04-27 12:17:18,656 - app - ERROR - Error in fetch_music(): http status: 404, code: -1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=04gDigrS5kc9YWfZHwBETP%2C0k17h0D3J5VfsdmQ1iZtE9%2C6S2OmqARrzebs0tKUEyXyp&seed_genres=hip-hop:
 None, reason: None
2025-04-27 12:17:18,659 - app - INFO - Music API response - Found 2 tracks, 2 artists
2025-04-27 12:17:24,172 - app - INFO - Music API request - Emotion: sad, Gender: all, Genre: rnb
2025-04-27 12:17:24,173 - app - INFO - Spotify API → Emotion: sad, Genre: r-n-b, Gender: all, Artists: ['1HY2Jd0NmPuamShAr6KMms', '2wY79sveU1sp5g7SokKOiI', '2wIVse2owClT7go1WT98tk']
2025-04-27 12:17:24,203 - app - ERROR - Error in fetch_music(): http status: 404, code: -1 - https://api.spotify.com/v1/recommendations?limit=10&seed_artists=1HY2Jd0NmPuamShAr6KMms%2C2wY79sveU1sp5g7SokKOiI%2C2wIVse2owClT7go1WT98tk&seed_genres=r-n-b:
 None, reason: None
2025-04-27 12:17:24,205 - app - INFO - Music API response - Found 3 tracks, 2 artists
2025-04-27 12:19:00,888 - app - INFO - Session before dashboard: <SecureCookieSession {'_permanent': True, 'chat_history': [{'content': 'i just had avocado toast', 'role': 'user'}, {'content': 'That sounds delicious! Avocado toast is a great choice for a tasty and nutritious meal. How are you feeling today?', 'role': 'assistant'}, {'content': 'my stomach hurts', 'role': 'user'}, {'content': "I'm sorry to hear that your stomach is hurting. It's possible that something in the avocado toast didn't agree with you. Make sure to drink plenty of water and maybe try some gentle stretches or a heating pad to help relieve any discomfort. If your stomach continues to bother you, it may be a good idea to consult with a healthcare professional. Take care of yourself!", 'role': 'assistant'}], 'user_id': 3}>
2025-04-27 12:19:10,141 - app - INFO - Session before dashboard: <SecureCookieSession {'_permanent': True, 'chat_history': [{'content': 'i just had avocado toast', 'role': 'user'}, {'content': 'That sounds delicious! Avocado toast is a great choice for a tasty and nutritious meal. How are you feeling today?', 'role': 'assistant'}, {'content': 'my stomach hurts', 'role': 'user'}, {'content': "I'm sorry to hear that your stomach is hurting. It's possible that something in the avocado toast didn't agree with you. Make sure to drink plenty of water and maybe try some gentle stretches or a heating pad to help relieve any discomfort. If your stomach continues to bother you, it may be a good idea to consult with a healthcare professional. Take care of yourself!", 'role': 'assistant'}], 'user_id': 3}>
2025-04-27 12:20:02,664 - app - ERROR - Exception on /journal/edit/8 [GET]
Traceback (most recent call last):
  File "/Users/alizaraza/Desktop/project-root copy 7/.venv/lib/python3.10/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/alizaraza/Desktop/project-root copy 7/.venv/lib/python3.10/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/alizaraza/Desktop/project-root copy 7/.venv/lib/python3.10/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/alizaraza/Desktop/project-root copy 7/.venv/lib/python3.10/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/Users/alizaraza/Desktop/project-root copy 7/app.py", line 994, in edit_journal
    entry = JournalEntry@app.route('/journal/edit/<int:entry_id>', methods=['GET', 'POST'])
  File "/Users/alizaraza/Desktop/project-root copy 7/.venv/lib/python3.10/site-packages/flask/sansio/scaffold.py", line 46, in wrapper_func
    self._check_setup_finished(f_name)
  File "/Users/alizaraza/Desktop/project-root copy 7/.venv/lib/python3.10/site-packages/flask/sansio/app.py", line 415, in _check_setup_finished
    raise AssertionError(
AssertionError: The setup method 'route' can no longer be called on the application. It has already handled its first request, any changes will not be applied consistently.
Make sure all imports, decorators, functions, etc. needed to set up the application are done before running it.
